[
  {
    "db_id": "tpcds",
    "question": "Find customers who have returned items more than 20% more often than the average customer returns for a store in state 'TN' for year 2000. The customers are listed in ascending order by customer ID."
  },
  {
    "db_id": "tpcds",
    "question": "Report the total extended sales price per item brand of manufacturer ID 128 for all sales in November of the year. Results must be presented in ascending order by the year, then descending order by total extended sales price and finally ascending order by brand ID."
  },
  {
    "db_id": "tpcds",
    "question": "List all the states with at least 10 customers who during January 2001 bought items with the price tag at least 20% higher than the average price of items in the same category. Results must be listed in ascending order of the number of customers and ascending order of state."
  },
  {
    "db_id": "tpcds",
    "question": "Compute the average quantity, list price, discount, and sales price for promotional items sold in stores in 2000 where the promotion is not offered by mail or a special event. Restrict the results to male, single, and college-educated. List the top 100 items in ascending order of item ID."
  },
  {
    "db_id": "tpcds",
    "question": "Categorize store sales transactions into 5 buckets according to the number of items sold, with each category containing 20 item quantities from 1 to 100. For bucket 1, if the sales record is greater than 74129, return the average discount amount, else the average net paid. For bucket 2, if the sales record is greater than 122840, return the average discount amount, else the average net paid. For bucket 3, if the sales record is greater than 56580, return the average discount amount, else the average net paid. For bucket 4, if the sales record is greater than 10097, return the average discount amount, else the average net paid. For bucket 5, if the sales record is greater than 165306, return the average discount amount, else the average net paid."
  },
  {
    "db_id": "tpcds",
    "question": "Count the customers with the same gender, marital status, education status, purchase estimate, credit rating, dependent count, employed dependent count, and college dependent count who live in Rush\u00a0County, Toole\u00a0County, Jefferson\u00a0County, Dona\u00a0Ana\u00a0County, or La\u00a0Porte\u00a0County and have purchased from both stores and another sales channel during a three month time period of January 2002. Results must be presented in ascending order of gender, marital status, education status, purchase estimation, credit rating, department count, department employee count, and department college count."
  },
  {
    "db_id": "tpcds",
    "question": "Consider the time period from 1999-02-22 to the next 30 days, and Sports, Books, Home item. Compute the revenue ratios across item classes: For each item in a list of given categories, sold through the web channel compute the ratio of sales of that item to the sum of all of the sales in that item's class. Also, compute the total extended sales price. The result should be grouped by item ID, item desc, item category, class, and current price. The result should be listed in ascending order of category, class, item ID, item desc, and revenue ratios."
  },
  {
    "db_id": "tpcds",
    "question": "Calculate the average sales quantity, average sales price, average wholesale cost, and total wholesale cost for store sales of different customer types in 2001. The different customer types should satisfy: If married, the education status should be Advanced Degree and store sales price should be between 100 and 150. If single, the education status should be College, and store sales price should be between 50 and 100. If Widowed, the education status should be 2 yr Degree and store sales price should be between 150 and 200. At the same time, the customer should satisfy the: If live in the United States, the state should be TX or OH, and store sales net profit should be between 100 and 200, Or the state should be OR or NM or KY, and store sales net profit should be between 150 and 300, Or the state should be VA or TX or MS and store sales net profit should be between 50 and 250."
  },
  {
    "db_id": "tpcds",
    "question": "Report the total catalog sales for customers whose sales price is greater than 500 or state is in the list of ('CA', 'WA', 'GA') or first 5 character of address zip code is in the list of ('85669', '86197', '88274', '83405', '86475', '85392', '85460', '80348', '81792')  for the quater 2 in 2001. The result lists the records that are in the order of ascending of customer address zip code."
  },
  {
    "db_id": "tpcds",
    "question": "Report the distinct number of orders, total shipping costs, and network profits from catalog sales of Williamson County and GA state for a given 60-day period from 2002-02-01 for non-returned sales filled from an alternate warehouse. The result lists the records that are in the order of ascending of the distinct number of orders."
  },
  {
    "db_id": "tpcds",
    "question": "Select the top revenue-generating products bought by out-of-zip code customers for manager ID 11 in August 1998. The result should show the sum of the sales price of each product and the product's brand and ID. Also, the result should show the manufacturer and manufacturer ID of every product. The result should be listed in the order of descending revenue, that is, the sum of the sales price. The result should also be listed in the order of ascending order of the item's brand, brand ID, manufacturer ID, and manufacturer."
  },
  {
    "db_id": "tpcds",
    "question": "Compute the total revenue and the ratio of total revenue to revenue by item class for categories of Sports or Books or Home and 30-day period from 1999-02-22. The result should be grouped by item ID, item desc, item category, item class, and item current price. The result also should be ordered by category, class, item ID, item desc, and the ratio of total revenue to revenue by item class."
  },
  {
    "db_id": "tpcds",
    "question": "For all items whose price was changed on 2000-03-11, compute the percentage rate in inventory between the 30-day period BEFORE the price change and the 30-day period AFTER the change. List the warehouse name, item ID and the percentage rate in inventory ascending order by warehouse name and item id."
  },
  {
    "db_id": "tpcds",
    "question": "Get all items that were sold in stores in April 2001, and returned and re-purchased by the customer through the catalog channel in the same month and in the six following months. For these items, compute the sum of net profit of store sales, net loss of store loss and net profit of catalog. Group and order the results by item ID, item description, store ID and store name."
  },
  {
    "db_id": "tpcds",
    "question": "Computes the average quantity, list price, discount, sales price for promotional items sold through the catalog channel where the promotion was not offered by mail or in an event for the single college-educated male. The result should be grouped by item ID and sorted in ascending order of item ID."
  },
  {
    "db_id": "tpcds",
    "question": "Calculate the average list price, number of non empty (null) list prices and number of distinct list prices of six different sales buckets of the store sales channel. Each bucket is defined by the information about quantity, list price, coupon amount and wholesale cost. For bucket 1, the quantity is between 0 and 5 and the list price should between 8 and 18 and the coupon amount should between 459 and 1459 and the wholesale cost should between 57 and 77. For bucket 2, the quantity is between 6 and 10 and the list price should between 90 and 100 and the coupon amount should between 2323 and 3323 and the wholesale cost should between 31 and 51. For bucket 3, the quantity is between 11 and 15 and the list price should between 142 and 152 and the coupon amount should between 12214 and 13214 and the wholesale cost should between 79 and 99. For bucket 4, the quantity is between 16 and 20 and the list price should between 135 and 145 and the coupon amount should between 6071 and 7071 and the wholesale cost should between 38 and 58. For bucket 5, the quantity is between 21 and 25 and the list price should between 122 and 132 and the coupon amount should between 836 and 1836 and the wholesale cost should between 17 and 37. For bucket 6, the quantity is between 26 and 30 and the list price should between 154 and 164 and the coupon amount should between 7326 and 8326 and the wholesale cost should between 7 and 27."
  },
  {
    "db_id": "tpcds",
    "question": "Get all items that were sold in stores in September 1999, and which were returned in the next three months of the same year and re-purchased by the returning customer afterwards through the catalog sales channel in the following three years. For those these items, compute the total quantity sold through the store, the quantity returned and the quantity purchased through the catalog. Group and order the results by item ID, item description, store ID and store name."
  },
  {
    "db_id": "tpcds",
    "question": "Find customers and their detailed customer data who have returned items, which they bought on the web, for an amount that is 20% higher than the average amount a customer returns in state GA in year 2002 across all items. Order the output by customer data. The results should list the customer ID, salutation, first name, last name, preferred flag, birth day, birth month, birth year, birth country, login, email address, last review date and total return amount."
  },
  {
    "db_id": "tpcds",
    "question": "Compute the total discounted amount for the manufacturer with ID 977 in a particular 90 day period starting from 2000-01-27 for catalog sales whose discounts exceeded the average discount by at least 30%."
  },
  {
    "db_id": "tpcds",
    "question": "What is the monthly sales figure based on extended price for May 1998, for manufacturers in category Electronics in time zone -5. Here, monthly sales means sales from store, catalog and web. Group sales by manufacturer identifier and sort output by sales for each manufacturer."
  },
  {
    "db_id": "tpcds",
    "question": "Display all customers with buy potentials '>10000' or 'Unknown' and whose dependent count to vehicle count ratio is larger than 1.2, who in three consecutive years starting from 1999 made purchases with between 15 and 20 items in the beginning or the end of each month in stores located in country 'Williamson County'. Here, the beginning and end of each month respectively means day 1 to day 3 and day 25 to day 28 of each month. Results should be listed in ascending order by customer last name, first name, salutation, then descending order of customer preferred flag, and finally ascending order by ticket number."
  },
  {
    "db_id": "tpcds",
    "question": "For the groups of customers living in the same state, having the same gender and marital status who have purchased from stores and from either the catalog or the web during year 2002, display the following: state, gender, marital status, count of customers, min, max, avg, count distinct of the customer\u2019s dependent count, min, max, avg, count distinct of the customer\u2019s employed dependent count, min, max, avg, count distinct of the customer\u2019s dependents in college count. Results should be grouped and ordered by state, gender, marital status, count distinct of the customer\u2019s dependent count, count distinct of the customer\u2019s employed dependent count and count distinct of the customer\u2019s dependents in college count."
  },
  {
    "db_id": "tpcds",
    "question": "List all items and current prices sold through the catalog channel from certain manufacturers whose ID is 677 or 940 or 808 and price is between 68 and 98, and consistently had a quantity between 100 and 500 on hand in a 60-day period starting from 2000-02-01. List the item ID, description and current price in the ascending order by item ID."
  },
  {
    "db_id": "tpcds",
    "question": "For each item, calculate the sum of the extended sales price of store transactions in November 2000. List the category ID and the sum of the extended sales price. Group the results by item category ID. The results should be listed in the descending order of the sum of the extended sales price and ascending order of item category ID."
  },
  {
    "db_id": "tpcds",
    "question": "Report the sum of all sales respectively from Sunday to Saturday in year 2000 for stores in time zone -5. List the store name, ID and the sum of all sales from Sunday to Saturday. Group the results by store name and ID. The results should be listed in ascending order of store name, store ID, sunday sales, monday sales, tuesday sales, wednesday sales, thursday sales, friday sales and saturday sales."
  },
  {
    "db_id": "tpcds",
    "question": "Report the total web sales in the second quarter 2001 for customers with specific zip codes starting with one of the following cases '85669', '86197', '88274', '83405', '86475', '85392', '85460', '80348', '81792', or specific items whose surrogate keys fall into 2, 3, 5, 7, 11, 13, 17, 19, 23 or 29."
  },
  {
    "db_id": "tpcds",
    "question": "Compute the per-customer coupon amount and net profit of all \"out of town\" customers buying from stores located in cities 'Midway' or 'Fairview' on weekends in three consecutive years starting from 1999. The customers need to fit the profile of having 4 dependents and 3 vehicles. For all these customers print the customer's last and first name, the city they lived in at the time of purchase, the city in which the store is located, the ticket number, the coupon amount and net profit. The results should be ordered by the customer's last and first namem, the city in which the store is located, the city they lived in at the time of purchase and the ticket number in ascending order."
  },
  {
    "db_id": "tpcds",
    "question": "Calculate the total sales for store sales of different customer types in 2000, sales price and different combinations of state and sales profit. The different customer types should satisfy: If married, the education status should be 4 yr Degree and store sales price should be between 100 and 150. If divorced, the education status should be 2 yr Degree and store sales price should be between 50 and 100. If single, the education status should be College, and store sales price should be between 150 and 200. At the same time, the customer should live in United States and should satisfy: If live in state CO or OH or TX, store sales net profit should be between 0 and 2000; If live in state OR or MN or KY, store sales net profit should be between 150 and 3000; If live in state VA or CA or MS, and store sales net profit should be between 50 and 25000"
  },
  {
    "db_id": "tpcds",
    "question": "For each store, count the number of items that were sold in August 2001 and returned after 30, 60, 90, 120 and more than 120 days from the day of purchase."
  },
  {
    "db_id": "tpcds",
    "question": "Calculate the total store sales for each brand for manager with ID 28 in November 1999. List the brand ID and the total store sales. The results should be grouped by brand ID. The results should be listed in descending order of the total store sales and the ascending order of brand ID."
  },
  {
    "db_id": "tpcds",
    "question": "What is the monthly sales amount in September 1998, for items in category 'Music', purchased by customers residing in time zone -5. The sales amount contains store, catalog and web sales. Group sales by item ID and sort output by item ID and sales amount in ascending order."
  },
  {
    "db_id": "tpcds",
    "question": "Find the ratio of items sold with promotions in November 1998. Only items in category 'Jewelry' sold to customers living in time zone -5 are considered. List the promotion sales, total sales, and the ratio in ascending order of promotion sales and total sales."
  },
  {
    "db_id": "tpcds",
    "question": "For web sales, create a report showing the counts of orders shipped within 30 days, from 31 to 60 days, from 61 to 90 days, from 91 to 120 days and over 120 days in 2000, grouped by warehouse name, shipping mode and web site name. Results should be listed in ascending order w_warehouse_name, sm_type and web_name"
  },
  {
    "db_id": "tpcds",
    "question": "For year 2000, calculate the monthly sales of items of specific categories belonging to ('Books', 'Children', 'Electronics'), classes belonging to ('personal', 'portable', 'reference', 'self-help') and brands belonging to ('scholaramalgamalg #14', 'scholaramalgamalg #7', 'exportiunivamalg #9','scholaramalgamalg #9') that were sold in stores and group the results by store manager. Results should be ordered by i_manager_id and the monthly sales in ascending order."
  },
  {
    "db_id": "tpcds",
    "question": "In year 2000, for each store, report the list of items with revenue less than 10% the average revenue for all the items in that store. List the store name, item description, item current price. Results should be listed in ascending order of store name and item description."
  },
  {
    "db_id": "tpcds",
    "question": "Compute the sum of per-customer extended sales price, extended list price and extended tax for \"out of town\" shoppers buying from stores located in two cities \u2018Fairview\u2019 and 'Midway' in the first two days (day 1 and day 2) of each month of three consecutive years starting from 1999. Only consider customers with specific dependent count 4 or specific vehicle count 3. Results should be ordered by customer's last name and the store sales tickets number (store_sales) in ascending order."
  },
  {
    "db_id": "tpcds",
    "question": "Count the customers with the same gender, marital status, education status, purchase estimate and credit rating who live in states 'KY', 'GA' and 'NM', and who have purchased from stores but neither from the catalog nor from the web during month 4 to 6 of the year 2001. Results should be ordered by the gender, marital status, education status, purchase estimate and credit rating in ascending order."
  },
  {
    "db_id": "tpcds",
    "question": "Get the summation of ext_price of each item that solds during 'breakfast' or 'dinner' time for month 11 of the year 1999 managed by a given manager of manager id 1 across all three sales channels (web sales, catalog sales, store sales). Results should be ordered by the summed ext_price in descending order and item brand id in ascending order."
  },
  {
    "db_id": "tpcds",
    "question": "Count the number of customers with buy potentials '>10000' or 'Unknown', and whose dependent count to vehicle count ratio is larger than 1 and who in three consecutive years from 1999 bought in stores located in 4 counties 'Williamson County', 'Franklin Parish', 'Bronx County', 'Orange County' between 1 and 5 items in one purchase. Only purchases in the first 2 days of the months are considered. Results should be ordered by the customer count in descending order and customer's last name in ascending order."
  },
  {
    "db_id": "tpcds",
    "question": "Output ids and the total customer returns of customers who have returned items bought from the catalog more than 20 percent the average customer returns for customers in a given state 'GA' in the year 2000. The output is ordered by customer id in ascending order."
  },
  {
    "db_id": "tpcds",
    "question": "List all item ids, item descriptions and current prices of items sold through the store channel from certain manufacturers (whose manufacturer id is 129, 270, 821 or 423) in a given $30 current price range '62 to 92' and consistently had a quantity between 100 and 500 on hand in a 60-day period starting from '2000-05-25'."
  },
  {
    "db_id": "tpcds",
    "question": "List all customer id of customers who live in city 'Edgewood', with an income ranging from 38128 to 88128."
  },
  {
    "db_id": "tpcds",
    "question": "What is the number of items sold over the internet in the morning (8 to 9am) to the number ofitems sold in the evening (7 to 8pm) of customers with the number of dependents to be 6. Consider only websites with a high amount of content (having wp_char_count between 5000 and 5200)."
  },
  {
    "db_id": "tpcds",
    "question": "Display total returns of catalog sales by call center and manager in month 11 of year 1998 for male customers (cd_marital_status = 'M') of 'Unknown' education or female customers (cd_marital_status = 'W') with 'Advanced Degree' with a specified buy potential 'Unknown' and from a particular time zone of ca_gmt_offset -7. Results should be ordered by the total returns in descending order."
  },
  {
    "db_id": "tpcds",
    "question": "Compute the total discount on web sales of items from a given manufacturer whose manufact id is 350 over a particular 90 day period starting from '2000-01-27' for sales whose discount exceeded 30% over the average discount of items from that manufacturer in that period of time. Results should be ordered by the total discount in ascending order."
  },
  {
    "db_id": "tpcds",
    "question": "For a given merchandise return reason 'reason 28', report on customers\u2019 total cost of purchases minus the cost of returned items. Results should be ordered by the resulting total cost and customer_sk in ascending order."
  },
  {
    "db_id": "tpcds",
    "question": "Produce a count of web sales and total shipping cost and total net profit in a given 60 day period starting from '1999-02-01' to customers in a given state 'IL' from a web site named 'pri' for non returned orders shipped from more than one warehouse. Results should be ordered by the count of web sales in ascending order."
  },
  {
    "db_id": "tpcds",
    "question": "Produce a count of web sales and total shipping cost and total net profit in a given 60 day period starting from '1999-02-01' to customers in a given state 'IL' from a web site named 'pri' for returned orders shipped from more than one warehouse. Results should be ordered by the count of web sales in ascending order."
  },
  {
    "db_id": "tpcds",
    "question": "Compute a count of sales from a store named 'ese' to customers with dependents count as 7 made in a specified half hour period of the day starting from 20:30. Results should be ordered by the count of sales in ascending order."
  },
  {
    "db_id": "tpcds",
    "question": "Generate counts of promotional sales and total sales, and their ratio from the web channel for a particular item category and month to customers in a given time zone (d_month_seq between 1200 and 1211)."
  },
  {
    "db_id": "tpcds",
    "question": "For catalog sales, create a report showing the counts of orders shipped within 30 days, from 31 to 60 days, from 61 to 90 days, from 91 to 120 days and over 120 days within a given year (d_month_seq between 1200 and 1211), grouped by warehouse name, call center and shipping mode."
  }
]